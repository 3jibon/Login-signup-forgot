{% extends 'base.html' %}

{% block title %}Reset Password{% endblock title %}

{% block body %}
<div class="wrapper">
  <div class="logo">
    <img class="slogo" src="/static/img/img-removebg-preview (1).png" alt="" />
  </div>
  <div class="container">
    <h3 class="text-center text-info py-4">Reset Password</h3>
  </div>
  
  <form method="post" class="mx-1 mx-md-4">
    {% csrf_token %}
    
    <!-- New Password Field -->
    <div class="d-flex flex-row align-items-center mb-4">
      <i class="bi bi-lock fs-3 me-2"></i>
      <div class="form-field form-outline flex-fill mb-0 position-relative">
        {% if form.new_password1.errors %}
          <div class="error-messages">
            {% for error in form.new_password1.errors %}
              <p class="text-danger">{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}
        <input
          type="password"
          id="form3Example4c"
          name="new_password1"
          class="form-control"
          placeholder="New Password"
          required
        />
        <i
          class="bi bi-eye-slash position-absolute end-0 me-2 top-50 translate-middle-y toggle-password"
          data-target="form3Example4c"
          style="cursor: pointer;"
        ></i>
      </div>
    </div>

    <!-- Confirm Password Field -->
    <div class="d-flex align-items-center mb-4">
      <i class="bi bi-key fs-3 me-2"></i>
      <div class="form-field flex-fill mb-0 position-relative">
        {% if form.new_password2.errors %}
          <div class="error-messages">
            {% for error in form.new_password2.errors %}
              <p class="text-danger">{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}
        <input
          type="password"
          id="form3Example4cd"
          name="new_password2"
          class="form-control"
          placeholder="Retype Password"
          required
        />
        <i
          class="bi bi-eye-slash position-absolute end-0 me-2 top-50 translate-middle-y toggle-password"
          data-target="form3Example4cd"
          style="cursor: pointer;"
        ></i>
      </div>
    </div>

    <div>
      <p>
        <strong>Minimum Length:</strong> At least 8 characters. <br />
        <strong>Upper and Lowercase Letters:</strong> Mix of both. <br />
        <strong>Numeric Characters:</strong> At least one number. <br />
        <strong>Special Characters:</strong> At least one special character (e.g., !, @, #).
      </p>
    </div>

    <div class="d-flex justify-content-center mx-4 mb-5 mb-lg-5">
      <button type="submit" class="btn btn-primary btn-lg">Next</button>
    </div>
  </form>
</div>

<script>
  document.querySelectorAll('.toggle-password').forEach(function (toggle) {
    toggle.addEventListener('click', function () {
      const targetId = this.getAttribute('data-target');
      const input = document.getElementById(targetId);
      const isPassword = input.type === 'password';
      input.type = isPassword ? 'text' : 'password';
      this.classList.toggle('bi-eye', isPassword);
      this.classList.toggle('bi-eye-slash', !isPassword);
    });
  });
</script>
{% endblock body %}